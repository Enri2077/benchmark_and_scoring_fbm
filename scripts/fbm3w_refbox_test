#!/usr/bin/env python

import time
import yaml

import rospy
from rockin_scoring.RefBox import RefBox

benchmark = RefBox("refbox_test")
rospy.loginfo("FBM1H refbox test node started")

# Wait for client
benchmark.WaitClient()

while (benchmark.Running()):
	# Check if a manual operation was requested
	request = benchmark.RequestedManualOperation()
	if request:
		a = raw_input("manual operation was requested; press ENTER")
		
		# Notify manual operation execution
		benchmark.ConfirmManualOperation()
	
# Wait for score from the bmbox
score_yaml = benchmark.GetScore()
score = yaml.load(score_yaml)

# display the score somewhere
print "<- RECEIVED SCORE"

print score_yaml

benchmark.End()

raw_input("press ENTER to close")
